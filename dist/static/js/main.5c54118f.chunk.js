(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){},139:function(e,t,a){e.exports=a(389)},144:function(e,t,a){},146:function(e,t,a){},193:function(e,t,a){},233:function(e,t,a){},371:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAKBJREFUWAntllEKgCAQRLVz1IG8SBfXe9gubJCRQaUF8RY2zMZ1eP2McxQEPiaQcw7S0TrU7Gx0snyl1FPw8ohiajRjyXs/HZnc6Y4kPfbS0GNqy5lqcJZO1rqu1aqrfW+9r57O/LS+j3kQgAAEIPBPApoYNAhYk2Yu/mbSzEVghZw0U+DgBQIQgAAEbhIgzdwEZ8dIM0/4kWae0ONsMwILhca5xy+kLk8AAAAASUVORK5CYII="},372:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAb5JREFUWAntWEtOw0AMTRALrgACiR1cpbuegQXHQOIEnKs3QOxQK9iwR2KTvreI5DjuzNj5UEJHGnXiebZfbY/zqSo1mqZZYW4x5x70uVJ0qloLANpCdq3lM13v6rq+kb4sgo0EzL0GwQ6ns7kJeP2d5xT0P8rhvfss9JTO0UfwRDCVvpK9ZUaQDZX9kgXuHGYzTkWy03MIpEOpYJ1iQIY0804zzvlbZooR4UfMnYx04Zo61C0eoRQXWy8A/tsUF8RmHMhiD8k44Smwkn2asWygsG8hf8LsPFxaWCVj/3xGb31X8vJLnio5LE3sbyTGud5Im1pX7nEdrcE7bchx7dKNEnxxENJQl264USM19/DsfbniffhVMmaK5bW+94cJSqND1jmC0RQP4eTSPXqCoT7IECA1LI+LVDhQT9+p/dAea0IOywj215hfEndgTczastHKtF4rb39DhwRGP2DgsjWS+f1EJK8OYUhQ7ulTHK3BH2k0s/Zge6aiBB9g6Q2TNZaaxBAbHqEUh70ZilOl2HA1jSia4mnYGFZPBI2guETZO4kuYpf1EcB/MsV8+/+t0fNtRTD6WWPonyK53meRPTgD2C59CLamAAAAAElFTkSuQmCC"},373:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAORJREFUWAntmA0KgzAMhY3nmAfyIl7c3qMmwuBRMHYJTjdeoZCSv/ql0tBh4CCBmwnUWmedq85vD8s5n32+qNGqRq8zw4v0RUQmL/boKZ+gsw0uOssNm7Gcltsd4modpR1YVGupwrEwTiv/RInbTT9qTYLZcpAgCWYJZP15BkkwS8B6Pmvp7O7+cOz9YviCt2S4+aNmQc0y/WbhT6KUo/3m3i9eXmI8Bij3HhGWGKlFZBKMUEMfEkQaEZkEI9TQhwSRRkT+a4L44IRyLyj0QbnX37fTy/7diHY9RLbRsv5tPK6PCGxr9ftlcvTygQAAAABJRU5ErkJggg=="},374:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA21JREFUWAntmE1IVGEUhmc0+7GwiGrRHwVpQlFJCyEQsk0hLQIhWgWBZLv+dgXRwloFEUT0s4mIIBASDKpNQpuQIGpREhFWFCEtrEgzKafnTDqee+53v3vn3qmVH7x4znfe9z1n7ox37je53Mz6D1egUCgsAV1gAIyBtOsTwh7QWrGxMWsCH0Cl15nMQzLRYvCu0pMpv45MQ2J0WZn9i/ArpstSDYlwM/hlprpEXpfGEF0e7AAylF7X0vjlcOjTLsSvQE0qMyXC47Dx/U3epCjxIYJ2YyJpW7wynoHPLPBSDNV6FK+cZCCaCwaVWMJ7iQ0SEPHbafwl3ZtAmpO39qQRj5M3JhKXQcKz1/SRu8U8rwWE5eC7EZ73ilIW6VEP5MXrdcprB/OGZhN/Bou8ogxFvM+ZfiPkK52WFJrBhBF0OskV2qRXHRgyPW+F7CHIParfEJ+TV4fIFd6gR4fpK+m2QBs29jtI2wMkT4JW/vP3gNOgE9R76IES3CrwFOj1hCRfJBIsAB91lbg74OJJ4G4C8pSjl3z4T3hkgRLcFi2ejA8USSRHTfEH+ZqAQ0QCbz54Y/Q63RchDW0juq2FxIOgSu579vJ2hdQRG2gPAt96ESENbWOyGowas5YqmA2GfdHkvnSrr0itkYa1MZxiOZ/PvyfoNdwGGXDEbK4wuS8d9hWpjYGfMRxdtr1H5S2+ay7rfa3wxehc36naLvF3OKJdWjgZr5MB2xyF3b7BdA1tt0MvW/KtkOh2A68G2DvBg1Ifig+BXomf/RDNBmeBDCRrAjwGG0sNYgK4R4Be8oy4pSQjkXuZfXo+XiIkCNBXg/VgYQJ6iQJfTozDQK+rJcJUQFUe5/VKf16YMk3wl4b23POFvaUhKZuuV5LuvBByd2/Q0/XOHXOz2UWQ/bwQ6R4u0K8P6OX/7MPMdl4IzxC5Q6905x6ErntbsvNC5DjBAj2ynXswKP+8EJzBm+Gf7dyDQfnnBe9I00W8K3Puwch1Xlg13SpdhO9NoJf33PP3qdXRCwf5ieM10L+dDJBfAN9AuUt6tQL7g9EhnmSulGtW5DOk67ygX33W+BkG2c49GPRknSJCL9/dG1JdOS3CpBZcj2iSdvstwmbdJyqO/AxaAYbyatvBWjDH1hPkBThDoB/c4XM3nkAzQ8l8Bf4AoAnsFG2Y3e0AAAAASUVORK5CYII="},375:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABQdJREFUaAXNmE2oVWUUhtWwKymUiEZJZL83B2IE2p1ZEUTdBoXm5FIGoUaTSCqybGTRILSCBv0NDAPLskndqAZ1isKKoGikkmlQEVKk/VjZz+15Y3+bdd7z7XOv9u1DC16+9bfXu869Z6+99pk2bYAyMTExCsbB8ABpy1DR9EywB0iOgS3g1DLVB1CFZjcAl0M41oEZA2jhxClocD44DJrkUwIrTpyh5Stp7qmmzs2/E3tRy+0cX3kauhj8ZY3qRv7ZfMn8FWUzmH18TC1l00gndVadupF1Qy8Ez4G/QU6+wjkGprfU2uRlIb8h09nV8UriI+CjTF5y7UZZHq8ZiA7pLHAwdVGdr+bIiU0Ha8A3ICf6L20DZ+Sub8UH2f3WiWZ/3wcY8TngIfAbyMlPODeCoVaaTkUh0Pfbb9ItKa6T+LxoR53YueBlkJMjOBfE/OI6BLo5o+iBVT91pQP5doCzmhogdhtw2dCUX8QPm25KnyxrY3Hij4SujqLfHeNJx/9WyJO6D8xM8eInxXUz+kT5BF+9KqAPA90PUTZ5MwRXxoRKH/W8ojYkazKkXSsC8dcs5wD2rNgI9hD4AkR5PeYU12HSBPExuDMSEb8mdlTpK2OOdPz3Wt4f2Is9r6gNgcZfFK0EZycS9LhOp7xOiqeTwJlA4zLKoyneygmTxp7P7s2RjLiv09qPlsYc6fieBVG+w5jreUVtCHxma4+plzH03Dr9hDdB3nLgE+xWzytqQ3gFcBmLJASftIQfsOdbjibYbsv7DPukmFdUV3Egkihqot4g0ZcCX6fv8EbIuRG4XO55RW3Y/Empf/+ySILdsa72YHc9jLBng68tb1esU1yHbC7QDRZlWyQisCoGK71rnVY+/gcsTwPhnFiruA7BY0aq0Vevu+hapw+AKOPeCMFFQCM3yoOeV9SGaTHQwyXKPZGEwKYYRNf60LNO43vJ8vQwnBNrFdcheMNI92PXOzp6bp3e6o2QtwK43OR5RW3YrnVG7OsjCfZ2yzmEXa/TysWeAfRzSpQPMeoJFmsW0Sl+Mvg8MqJ3YnFsLWLvW866mCOd+HrL0QQb8byiNgQPG6lMzfgXQD0a0fVQGgN6IuuvXK/TVfOn4dN/Jcr2os16MZhE6vtObECT5K54Hbbm+/nRJx3fVhBFr58LPa+oDcEtkbGPrinS+AQlNgw0kaLcV7TZXDHY/OtzEJ8vXqkp+bVS1M+FVBPfpC80KbfoCfHTIMpajCVgH2j6IH8Sewb8O1k4cy80q4o22lQM8hdBlNUpF6cWMf3c0ST6jmtv0h4UpZNqtH7C+mZkRr/KSfE9DvwJbZfVpqZXzwuN1yxmQ6aHTJRLc8VJmAfeAU1fq1Sj54UmV6+YD9a9ibk6L+pXnJwR8KVdk8zDKF0vNP1qFYlB+G1ir86eCZMjIneHXSez54Umd21RH6S+8p7Sj4B8vQc/D1z0Olk/tfvVKBaDcMi6ONavOLmrga8KKqH74uZ+17YSg3SB2IMcyRERPx3sCnlR/R2jZ6nL1Snug/iC2Emlv8t5SSJD1/L2fRXz42McS1LuwE/Il3lHla1ZPg5eaYhr+dsI2vtpZCp/DRq4sqFBLW4/NsQ+wN/u75lTaV45NHKdNambcb/5knkU5U7Q9Q4wVa5W8mjmstTdJOd7xC9spYn/UpSmNEZzYzF9nl9Qbgf/n7+6f2CaGwUahS5v4zjP8wdl/wOyAhE3OQf9PwAAAABJRU5ErkJggg=="},376:function(e,t,a){},383:function(e,t,a){},386:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(24),l=a.n(i),r=a(13),o=a(14),c=a(16),h=a(15),u=a(17),m=(a(144),a(146),a(93),a(37)),d=a.n(m),f=(a(193),a(392)),p=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"homeContainer"},n.a.createElement("ul",{className:"homeReading"},n.a.createElement(f.a,{to:"/charpter"},n.a.createElement("li",null,n.a.createElement(d.a,{type:"primary"},"\u9996\u6b21\u9605\u8bfb"))),n.a.createElement(f.a,{to:"/charpter"},n.a.createElement("li",{className:"continue"},n.a.createElement(d.a,{type:"primary"},"\u7ee7\u7eed\u9605\u8bfb")))),n.a.createElement("div",null))}}]),t}(s.Component),y=(a(197),a(88)),g=a.n(y),v=(a(106),a(89)),A=a.n(v),E=(a(203),a(90)),S=a.n(E),k=(a(233),a(136)),w=a.n(k),b=a(38),C=a.n(b),N=a(91),I=a.n(N),O=a(55),M=[{title:"\u7b2c\u4e00\u7ae0 \u5730\u7406\u98ce\u4fd7",id:0,essay:[]},{title:"\u7b2c\u4e8c\u7ae0 \u540d\u4eba\u8d24\u58eb",id:1,essay:[]},{title:"\u7b2c\u4e09\u7ae0 \u6c11\u95f4\u827a\u672f",id:2,essay:[]},{title:"\u7b2c\u56db\u7ae0 \u65c5\u6e38\u666f\u70b9",id:3,essay:[]},{title:"\u7b2c\u4e94\u7ae0 \u6559\u80b2\u57fa\u5730",id:4,essay:[]},{title:"\u7b2c\u516d\u7ae0 \u6f6e\u5dde\u540d\u7247",id:5,essay:[]},{title:"\u7b2c\u4e03\u7ae0 \u540e\u8bb0",id:6,essay:[]}],P=[{color:"#c1b694",bgColor:"#c1b694",fontColor:"#000"},{color:"gray",bgColor:"gray",fontColor:"#ccc"},{color:"#c1ae96",bgColor:"#c1ae96",fontColor:"#000"},{color:"#c1bd96",bgColor:"#c1bd96",fontColor:"#000"},{color:"#d1b48e",bgColor:"#d1b48e",fontColor:"#000"},{color:"#6d6e87",bgColor:"#6d6e87",fontColor:"#000"}],R=null,x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).log=function(e){return function(e){}},a.state={currentId:"hidden",content:"",startX:0,showDirect:!1,isSwitch:!1,colorIndex:0,isLang:!1,fontStyle:!1,fontInitclientX:0,fontPercent:"0%",lightInitclientX:0,lightLastclientX:0,lightPercent:"40%",arrow:!1,isFirst:!0,title:"",chapterIndex:1,lastid:-1,showMenu:!1,isSpeak:!1,isSpeakFirst:!1,isPlay:!1,isPlayScreen:!1,showPlay:!1,ly:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"reading",ref:"reading"},n.a.createElement("div",{className:"wrapper",ref:"scrollView"},n.a.createElement("div",{className:"c_content"},n.a.createElement("p",{className:"title"},this.state.title),n.a.createElement("div",{className:"readContent",ref:"readContent",onClick:this.showMenuHandle.bind(this)},n.a.createElement(w.a,{source:this.state.content,escapeHtml:!1})))),n.a.createElement("div",{className:"setMenu",ref:"setMenu"},n.a.createElement("div",{className:"setColor"},n.a.createElement("ul",null,n.a.createElement("li",{className:"setIcon"}),P.map(function(t,a){return n.a.createElement("li",{key:a,className:a===e.state.colorIndex?"current":"",onClick:e.changeColor.bind(e,a,t)},n.a.createElement("div",{className:"bg"}),n.a.createElement("div",{className:"circle",style:{background:t.color}}))}))),n.a.createElement("div",{className:"setLight"},n.a.createElement("span",{className:"light"}),n.a.createElement(S.a,{style:{marginLeft:10,marginRight:10,width:240},defaultValue:10,min:0,max:24,onChange:this.lightProgressHandle(),onAfterChange:this.log("afterChange")})),n.a.createElement("span",{className:"progress-num"},this.state.lightPercent)),n.a.createElement("div",{className:"lang",ref:"langMenu"},n.a.createElement("div",{className:"setLang"},n.a.createElement("span",{className:"font"},"\u7b80"),n.a.createElement("label",null,n.a.createElement("input",{onClick:this.SwitchFontStyle.bind(this),className:"mui-switch mui-switch-anim",type:"checkbox"})),n.a.createElement("span",{className:"font"},"\u7e41")),n.a.createElement("div",{className:"setProgress"},n.a.createElement("span",null,"\u5b57\u4f53\u5927\u5c0f"),n.a.createElement(S.a,{style:{marginLeft:10,marginRight:10,width:240},defaultValue:0,min:0,max:24,onChange:this.fontProgressHandle(),onAfterChange:this.log("afterChange")}),n.a.createElement("span",null,this.state.fontPercent))),n.a.createElement("div",{className:"set",ref:"menu"},n.a.createElement("span",{className:this.state.arrow?"switch":"",onClick:this.switchHandle.bind(this)}),n.a.createElement("ul",{className:"setCategory"},n.a.createElement("li",{onClick:this.showDirect.bind(this)},n.a.createElement("img",{src:a(371),alt:""}),n.a.createElement("span",{className:"text"},"\u76ee\u5f55")),n.a.createElement("li",{onClick:this.go.bind(this)},n.a.createElement("img",{src:a(372),alt:""}),n.a.createElement("span",{className:"text"},"\u7b14\u8bb0")),n.a.createElement("li",{onClick:this.openLangMenu.bind(this)},n.a.createElement("img",{src:a(373),alt:""}),n.a.createElement("span",{className:"text"},"\u5b57\u4f53")),n.a.createElement("li",{onClick:this.opensetHandle.bind(this)},n.a.createElement("img",{src:a(374),alt:""}),n.a.createElement("span",{className:"text"},"\u8bbe\u7f6e"))),n.a.createElement("div",{className:"pen",onClick:this.editHandle.bind(this)},n.a.createElement("img",{src:a(375),alt:""}))),n.a.createElement("div",{ref:"direct",className:"directory",onTouchStart:this.dTouchStartHandle.bind(this),onTouchMove:this.dTouchMoveHandle.bind(this),onTouchEnd:this.dTouchEndHandle.bind(this)},n.a.createElement("h2",null,"\u8ba4\u77e5\u6f6e\u5dde"),n.a.createElement(g.a,{className:"my-accordion",accordion:!0,onChange:this.AccordionHandle.bind(this)},M.map(function(t,a){return n.a.createElement(g.a.Panel,{header:t.title,key:a},n.a.createElement(A.a,{className:"my-list"},t.essay?t.essay.map(function(t,a){return n.a.createElement(A.a.Item,{key:a,onClick:e.changeReadContent.bind(e,t.info,t.title,a),className:e.state.chapterIndex===a?"active":""}," ",t.title)}):" "))}))),n.a.createElement("div",{className:"topNav",ref:"topNav"},n.a.createElement("span",{onClick:this.lyHandle.bind(this)},n.a.createElement("div",{className:"dot"},this.state.ly.length),n.a.createElement("i",{className:"iconfont"},"\ue748")),n.a.createElement("span",{onClick:this.speakHandle.bind(this)},n.a.createElement("i",{className:"iconfont"},"\ue606"))),n.a.createElement("div",{className:"setVoice",ref:"voice"},n.a.createElement("div",{className:"video"},n.a.createElement("span",null," ",n.a.createElement("i",{className:"iconfont"},"\ue62f")),n.a.createElement("span",null," ",this.state.isPlay?n.a.createElement("i",{onClick:this.playHandle.bind(this),className:"iconfont"},"\ue61d"):n.a.createElement("i",{onClick:this.playHandle.bind(this),className:"iconfont"},"\ue662")),n.a.createElement("span",null,n.a.createElement("i",{className:"iconfont"},"\ue62e"))),n.a.createElement("div",{className:"exitBook",onClick:this.exitBook.bind(this)}," ",n.a.createElement("span",null,"\u9000\u51fa\u542c\u4e66"))))}},{key:"AccordionHandle",value:function(){this.setState({chapterIndex:-1})}},{key:"lyHandle",value:function(){this.props.history.push("/ly")}},{key:"exitBook",value:function(){this.refs.voice.style.transition="all 0.4s",this.refs.voice.style.transform="translateY(100px)",this.setState({isPlayScreen:!1,showPlay:!this.state.showPlay,isSpeak:!1}),speechSynthesis.cancel()}},{key:"playHandle",value:function(){this.state.isPlay?speechSynthesis.pause():speechSynthesis.resume(),this.setState({isPlay:!this.state.isPlay})}},{key:"voiceHandle",value:function(){var e="".concat(this.state.content),t="".concat(e).replace(/\n/g,"");R=new SpeechSynthesisUtterance(t.replace(/\!\[\]\([^(]*\)/g,"")),speechSynthesis.cancel(),R.volume=0,R.pitch=4,speechSynthesis.speak(R)}},{key:"componentWillUnmount",value:function(){speechSynthesis.cancel()}},{key:"speakHandle",value:function(){this.state.isPlayScreen||(this.setState({showMenu:!this.state.showMenu,isPlayScreen:!this.state.isPlayScreen}),this.setState({isLang:!1,isSwitch:!1,arrow:!1}),this.refs.topNav.style.transform="translateY(-100px)",this.refs.langMenu.style.transform="translateY(300px)",this.refs.setMenu.style.transform="translateY(300px)",this.refs.menu.style.transition="all 0.4s",this.refs.menu.style.transform="translateY(400px)",this.refs.topNav.style.transition="all 0.4s");var e="".concat(this.state.content),t="".concat(e).replace(/\n/g,"");R=new SpeechSynthesisUtterance(t.replace(/\!\[\]\([^(]*\)/g,""));window.speechSynthesis.getVoices();var a=this;R.onend=function(){a.setState({isSpeakFirst:!1,isSpeak:!1}),speechSynthesis.cancel()},R.onboundary=function(e){},this.state.isSpeakFirst||(speechSynthesis.speak(R),this.setState({isSpeakFirst:!0})),this.state.isSpeak?speechSynthesis.pause():(R.rate=14,speechSynthesis.resume()),this.setState({isSpeak:!this.state.isSpeak,isPlay:!0})}},{key:"editHandle",value:function(){this.props.history.push("/detail")}},{key:"iScrollClick",value:function(){if(/iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent))return!0;if(/Chrome/i.test(navigator.userAgent))return/Android/i.test(navigator.userAgent);if(/Silk/i.test(navigator.userAgent))return!1;if(/Android/i.test(navigator.userAgent)){var e=navigator.userAgent.substr(navigator.userAgent.indexOf("Android")+8,3);return!(parseFloat(e[0]+e[3])<44)}}},{key:"componentDidMount",value:function(){var e=this;C.a.get("/ly").then(function(t){e.setState({ly:t.data.ly})}),window.addEventListener("beforeunload",function(){speechSynthesis.cancel()}),this.scrollView=this.refs.scrollView,this.bScroll=new O.a(this.scrollView,{probeType:3,click:this.iScrollClick(),taps:this.props.tap}),M=[{title:"\u7b2c\u4e00\u7ae0 \u5730\u7406\u98ce\u4fd7",id:0,essay:[]},{title:"\u7b2c\u4e8c\u7ae0 \u540d\u4eba\u8d24\u58eb",id:1,essay:[]},{title:"\u7b2c\u4e09\u7ae0 \u6c11\u95f4\u827a\u672f",id:2,essay:[]},{title:"\u7b2c\u56db\u7ae0 \u65c5\u6e38\u666f\u70b9",id:3,essay:[]},{title:"\u7b2c\u4e94\u7ae0 \u6559\u80b2\u57fa\u5730",id:4,essay:[]},{title:"\u7b2c\u516d\u7ae0 \u6f6e\u5dde\u540d\u7247",id:5,essay:[]},{title:"\u7b2c\u4e03\u7ae0 \u540e\u8bb0",id:6,essay:[]}],C.a.get("/article",{category:1}).then(function(t){for(var a=t.data.essay,s=0;s<a.length;s++){var n={info:a[s].essay.markdown,title:a[s].essay.title};switch(a[s].category){case 1:M[0].essay.push(n);break;case 2:M[1].essay.push(n);break;case 3:M[2].essay.push(n);break;case 4:M[3].essay.push(n);break;case 5:M[4].essay.push(n);break;case 6:M[5].essay.push(n);break;case 7:M[6].essay.push(n)}}e.setState({content:a[0].essay.markdown,title:a[0].essay.title})})}},{key:"changeReadContent",value:function(e,t,a){var s=this;this.bScroll.refresh(),this.bScroll.scrollTo(0,0),setTimeout(function(){s.refs.direct.style.transition="all 0.4s",s.refs.direct.style.transform="translateX(-500px)"},200),this.setState({content:e,title:t,chapterIndex:a})}},{key:"go",value:function(){this.props.history.push("/note")}},{key:"lightProgressHandle",value:function(){var e=this;return function(t){var a=parseInt(t/24*100)+"%";e.setState({lightPercent:a})}}},{key:"fontProgressHandle",value:function(){var e=this;return function(t){var a,s=parseInt(t/24*100)+"%";e.setState({fontPercent:s}),a=parseInt(14+t/24*10),e.refs.readContent.style.fontSize="".concat(a/40,"rem")}}},{key:"lightStartHandle",value:function(e){this.setState({lightInitclientX:e.touches[0].clientX})}},{key:"lightMoveHandle",value:function(e){var t=e.touches[0].clientX-this.state.lightInitclientX;t<0&&(t=0),t>208&&(t=208);var a=t/260+.2;this.setState({lightPercent:parseInt(100*a+.2)+"%"}),this.refs.lightProgress.style.width="".concat(260*a,"px"),this.refs.Lbutton.style.transform="translateX(".concat(t,"px)")}},{key:"lightEndHandle",value:function(e){}},{key:"fontStartHandle",value:function(e){this.setState({fontInitclientX:e.touches[0].clientX})}},{key:"fontMoveHandle",value:function(e){var t=e.touches[0].clientX-this.state.fontInitclientX;t<0&&(t=0),t>160&&(t=160);var a=t/200+.2;this.setState({fontPercent:parseInt(100*a+.2)+"%"}),this.refs.fontProgress.style.width="".concat(200*a,"px"),this.refs.Fbutton.style.transform="translateX(".concat(t,"px)")}},{key:"fontEndHandle",value:function(e){var t=.01*parseInt(this.state.fontPercent);this.refs.readContent.style.fontSize="".concat(12+6*t,"px"),this.setState({fontInitclientX:0})}},{key:"SwitchFontStyle",value:function(){this.state.fontStyle?this.setState({content:I.a.simplified(this.state.content)}):this.setState({content:I.a.traditional(this.state.content)}),this.setState({fontStyle:!this.state.fontStyle}),this.state.fontStyle?this.refs.reading.style.fontFamily="Microsoft YaHei":this.refs.reading.style.fontFamily="SimSun"}},{key:"switchHandle",value:function(){if(!this.state.isLang&&!this.state.isSwitch)return!1;this.refs.setMenu.style.transition="all 0.4s",this.state.isSwitch&&!this.state.isLang&&(this.refs.setMenu.style.transform="translateY(300px)",this.setState({isSwitch:!this.state.isSwitch})),this.state.isLang&&!this.state.isSwitch&&(this.refs.langMenu.style.transform="translateY(300px)",this.setState({isLang:!this.state.isLang})),this.setState({arrow:!1})}},{key:"opensetHandle",value:function(){this.state.isLang&&(this.refs.langMenu.style.transform="translateY(800px)",this.setState({isLang:!this.state.isLang})),this.refs.setMenu.style.transition="all 0.4s",this.state.isSwitch?this.refs.setMenu.style.transform="translateY(800px)":this.refs.setMenu.style.transform="translateY(0)",this.state.isLang?this.setState({isSwitch:!this.state.isSwitch,arrow:!0}):this.setState({isSwitch:!this.state.isSwitch,arrow:!this.state.arrow})}},{key:"openLangMenu",value:function(){this.state.isSwitch&&(this.refs.setMenu.style.transform="translateY(800px)",this.setState({isSwitch:!this.state.isSwitch})),this.refs.langMenu.style.transition="all 0.4s",this.state.isLang?this.refs.langMenu.style.transform="translateY(800px)":this.refs.langMenu.style.transform="translateY(0)",this.state.isSwitch?this.setState({isLang:!this.state.isLang,arrow:!0}):this.setState({isLang:!this.state.isLang,arrow:!this.state.arrow})}},{key:"changeColor",value:function(e,t){this.setState({colorIndex:e}),document.body.style.background="".concat(t.bgColor),this.refs.reading.style.color="".concat(t.fontColor)}},{key:"showMenuHandle",value:function(){var e=this;this.state.showDirect?(this.refs.direct.style.transition="all 0.4s",this.refs.direct.style.transform="translateX(-500px)",this.setState({showDirect:!1})):this.state.isPlayScreen?(this.refs.voice.style.transition="all 0.4s",this.state.showPlay?(this.refs.voice.style.transition="all 0.4s",this.refs.voice.style.transform="translateY(100px)"):(this.refs.voice.style.transition="all 0.4s",this.refs.voice.style.transform="translateY(0)"),this.setState({showPlay:!this.state.showPlay})):(this.state.showMenu&&(this.refs.langMenu.style.transform="translateY(300px)",this.refs.setMenu.style.transform="translateY(300px)",this.setState({isLang:!1,isSwitch:!1,arrow:!1})),setTimeout(function(){e.state.showMenu?(e.refs.topNav.style.transform="translateY(-100px)",e.refs.topNav.style.transition="all 0.4s",e.refs.menu.style.transition="all 0.4s",e.refs.menu.style.transform="translateY(400px)"):(e.refs.topNav.style.transition="all 0.4s",e.refs.topNav.style.transform="translateY(0)",e.refs.menu.style.transition="all 0.4s",e.refs.menu.style.transform="translateY(0)"),e.setState({showMenu:!e.state.showMenu})},20))}},{key:"showCharpter",value:function(e){this.state.lastid!==e&&this.setState({chapterIndex:-1,lastid:e}),this.state.currentId!==e?this.setState(function(){return{currentId:e}}):this.setState(function(){return{currentId:"hidden"}})}},{key:"dTouchStartHandle",value:function(e){var t=e.touches[0].clientX;this.setState(function(){return{startX:t}})}},{key:"dTouchMoveHandle",value:function(e){var t=e.touches[0].clientX-this.state.startX;t>0&&(t=0),this.refs.direct.style.transition="all 0.4s",this.refs.direct.style.transform="translateX(".concat(t,"px)")}},{key:"dTouchEndHandle",value:function(e){if(e.changedTouches[0].clientX-this.state.startX>-50)return this.refs.direct.style.transition="all 0.4s",void(this.refs.direct.style.transform="translateX(0)");this.refs.direct.style.transition="all 0.4s",this.refs.direct.style.transform="translateX(-500px)",this.setState(function(){return{showDirect:!1}})}},{key:"showDirect",value:function(){var e=this;this.state.showDirect?(this.refs.direct.style.transition="all 0.4s",this.refs.direct.style.transform="translateX(-500px)"):(this.refs.direct.style.transition="all 0.4s",this.refs.direct.style.transform="translateX(0)"),this.setState(function(){return{showDirect:!e.state.showDirect}})}}]),t}(s.Component),H=a(394),L=a(393),B=(a(40),a(22)),Q=a.n(B),X=(a(376),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={appNote:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"mynote"},n.a.createElement("div",{className:"header"},n.a.createElement("span",{onClick:this.goback.bind(this)},n.a.createElement(Q.a,{type:"left"})),n.a.createElement("span",{className:"note"},"\u6211\u7684\u7b14\u8bb0"),n.a.createElement("span",{className:"add",onClick:this.goEditor.bind(this)},n.a.createElement(Q.a,{type:"plus"}))),n.a.createElement("ul",{className:"content"},this.state.appNote.map(function(t,a){return n.a.createElement("li",{key:a,onClick:e.noteHandle.bind(e,t.id)},n.a.createElement("span",null),n.a.createElement("span",null,t.value),n.a.createElement("span",null,n.a.createElement(Q.a,{type:"right"})))})))}},{key:"noteHandle",value:function(e){this.props.history.push("/detail/".concat(e))}},{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("appNote"))&&(this.setState({appNote:JSON.parse(localStorage.getItem("appNote"))}),console.log(JSON.parse(localStorage.getItem("appNote"))))}},{key:"goback",value:function(){this.props.history.push("/charpter")}},{key:"goEditor",value:function(){this.props.history.push("/detail")}}]),t}(s.Component)),Y=(a(132),a(45)),j=a.n(Y),T=(a(133),a(56)),D=a.n(T),U=(a(383),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={lastid:-1,noteValue:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"details"},n.a.createElement("div",{className:"d-header"},n.a.createElement("span",{onClick:this.goback.bind(this)},n.a.createElement(Q.a,{type:"left"})),n.a.createElement("span",{className:"note"},"\u6211\u7684\u7b14\u8bb0"),n.a.createElement("span",{onClick:this.delNote.bind(this),className:"del"})),n.a.createElement("div",{className:"noteContent"},n.a.createElement(D.a,{onChange:this.inputChange.bind(this),autoHeight:!0,rows:6,placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u7b14\u8bb0...",value:this.state.noteValue})))}},{key:"goback",value:function(){this.props.history.go(-1)}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("appNote"))||[];if(this.props.match.params.id){var t=e[parseInt(this.props.match.params.id-1)].value;this.setState({lastid:this.props.match.params.id,noteValue:t},function(){})}else e?this.setState({lastid:e.length+1}):this.setState({lastid:1})}},{key:"filterData",value:function(e){e.map(function(e,t){e.id=t+1})}},{key:"delNote",value:function(){if(this.props.match.params.id){var e=JSON.parse(localStorage.getItem("appNote"));e.splice(this.props.match.params.id-1,1),this.filterData(e),localStorage.setItem("appNote",JSON.stringify(e)),j.a.success("\u5220\u9664\u6210\u529f"),this.props.history.push("/note")}else j.a.success("\u6ca1\u6709\u53ef\u5220\u9664\u7684\u7b14\u8bb0")}},{key:"inputChange",value:function(e){var t=e;this.setState({noteValue:t});var a=JSON.parse(localStorage.getItem("appNote"))||[];a.length?this.props.match.params.id?a[this.props.match.params.id-1].value=t:parseInt(this.state.lastid)===parseInt(a[a.length-1].id)?a[a.length-1].value=t:(console.log("\u65b0\u589e\u8fd9\u4e00\u6b65"),this.setState({lastid:a.length+1}),a.push({id:a.length+1,value:t})):a.push({id:1,value:t}),localStorage.setItem("appNote",JSON.stringify(a))}}]),t}(s.Component)),J=(a(134),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={showLy:!1,lyConent:"",ly:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"iScrollClick",value:function(){if(/iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent))return!0;if(/Chrome/i.test(navigator.userAgent))return/Android/i.test(navigator.userAgent);if(/Silk/i.test(navigator.userAgent))return!1;if(/Android/i.test(navigator.userAgent)){var e=navigator.userAgent.substr(navigator.userAgent.indexOf("Android")+8,3);return!(parseFloat(e[0]+e[3])<44)}}},{key:"componentDidMount",value:function(){var e=this;this.scrollView=this.refs.scrollView,this.bScroll=new O.a(this.scrollView,{probeType:3,click:this.iScrollClick()}),C.a.get("/ly").then(function(t){console.log(t),e.setState({ly:t.data.ly})})}},{key:"render",value:function(){return n.a.createElement("div",{className:"ly"},this.state.showLy?n.a.createElement("div",{className:"addLy_box"},n.a.createElement("div",{className:"ly_input"},n.a.createElement(D.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u7559\u8a00...",rows:8,count:100,onChange:this.lyConentChange.bind(this)}),n.a.createElement("div",{className:"action"},n.a.createElement(d.a,{onClick:this.cancelLy.bind(this),style:{width:60,height:30,marginRight:10}},"\u53d6\u6d88"),n.a.createElement(d.a,{onClick:this.confirmHandle.bind(this),style:{width:60,height:30,marginRight:10},type:"primary"},"\u786e\u5b9a")))):"",n.a.createElement("div",{className:"l_header"},n.a.createElement("span",{onClick:this.goback.bind(this)},n.a.createElement(Q.a,{type:"left",className:"left"})),n.a.createElement("span",{className:"note"},"\u66f4\u591a\u8bc4\u8bba"),n.a.createElement("span",{className:"addLy",onClick:this.showLyHandle.bind(this)},"\u6dfb\u52a0")),n.a.createElement("div",{className:"ly_content",ref:"scrollView"},n.a.createElement("div",{className:"l_wrapper"},n.a.createElement("div",{className:"ly_contentBox"},this.state.ly.map(function(e,t){return n.a.createElement("div",{key:t,className:"word"},n.a.createElement("div",{className:"time"},n.a.createElement("span",null,e.lyDate),n.a.createElement("span",null,e.lyTime)),n.a.createElement("span",{className:"user"},"\u533f\u540d"),n.a.createElement("div",null,e.lyInfo))})))))}},{key:"getTime",value:function(){return(new Date).getHours()+":"+((new Date).getMinutes()+1)+":"+(new Date).getSeconds()}},{key:"getDate",value:function(){return(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()}},{key:"lyConentChange",value:function(e){console.log(e),this.setState({lyConent:e})}},{key:"confirmHandle",value:function(){var e=this;console.log(this.getTime());var t={lyInfo:this.state.lyConent,lyDate:this.getDate(),lyTime:this.getTime()};C.a.post("/add/ly",{params:t}).then(function(a){var s=e.state.ly;s.unshift(t),console.log(a),j.a.success("\u6dfb\u52a0\u7559\u8a00\u6210\u529f"),e.setState({showLy:!1,ly:s})})}},{key:"showLyHandle",value:function(){this.setState({showLy:!0})}},{key:"cancelLy",value:function(){this.setState({showLy:!1})}},{key:"goback",value:function(){this.props.history.go(-1)}}]),t}(s.Component)),V=(a(386),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(H.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(L.a,{exact:!0,path:"/",component:p}),n.a.createElement(L.a,{path:"/charpter",component:x}),n.a.createElement(L.a,{path:"/note",component:X}),n.a.createElement(L.a,{path:"/detail/:id?",component:U}),n.a.createElement(L.a,{path:"/ly",component:J})))}}]),t}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[139,2,1]]]);
//# sourceMappingURL=main.5c54118f.chunk.js.map